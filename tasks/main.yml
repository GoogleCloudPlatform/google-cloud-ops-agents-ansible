---
- name: Validate agent_type
  assert:
    that: agent_type in ['monitoring', 'logging', 'ops-agent']
    msg: "Received invalid agent type: '{{ agent_type }}'. The Cloud Ops Ansible role supports the following agents: 'monitoring', 'logging' and 'ops-agent'."

- name: Call agent-specific playbook
  include_tasks: "{{ agent_type }}.yml"
